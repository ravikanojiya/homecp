<div class="container-fluid">
  <button mat-button mat-dialog-close class="ml-30 btn-danger" cdkFocusInitial>
    Close
  </button>

  <mat-dialog-content>
    <div class="row">
      <div class="example-card">
        <h2>
          <span
            >{{ roomnamedata }}&nbsp;Devices&nbsp;<mat-icon
              >devices_other</mat-icon
            ></span
          >
        </h2>
        <hr />

        <div
          class="
            example-card1
            d-flex
            justify-content-center
            col-sm-12
            flex-wrap
          "
        >
          <mat-progress-bar
            mode="indeterminate"
            *ngIf="isLoadingb"
          ></mat-progress-bar>
          <!-- <mat-progress-bar
          mode="indeterminate"
          *ngIf="isLoadingab"
        ></mat-progress-bar> -->
          <mat-card
            *ngFor="let devdata of deviceData"
            class="ml-3"
            style="height: 260px; width: 240px"
          >
            <span class="mb-2">
              <h2 class="text-center">{{ devdata.devname | titlecase }}</h2>
              <mat-divider></mat-divider>
            </span>
            <mat-card-subtitle
              class="text-center"
              *ngFor="let d of devdata.devices[0].data"
            >
              <mat-chip
                ><strong> {{ d.attribute }}</strong></mat-chip
              ><br /><br />
              <!-- <span class="text-success"><strong>{{ d.value }}</strong></span> -->
              <mat-slide-toggle
                [(ngModel)]="d.value"
                [checked]="d.value"
                (change)="updateOnOff(d.value, devdata)"
              >
                <strong>{{ d.value == true ? "ON" : "OFF" }}</strong>
              </mat-slide-toggle>
            </mat-card-subtitle>
          </mat-card>
        </div>

        <mat-error *ngIf="errorMessage">No data found</mat-error>
        <mat-progress-bar
          mode="indeterminate"
          *ngIf="isLoadingb"
        ></mat-progress-bar>
      </div>
    </div>
  </mat-dialog-content>
</div>
